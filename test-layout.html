<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>é˜¶æ®µ1: LayoutManager é›†æˆæµ‹è¯•</title>
  <link rel="stylesheet" href="/src//style.css">
  <style>
    h1 {
      margin-bottom: 20px;
    }

    #app {
      width: 100%;
      height: 600px;
      border: 2px solid #ccc;
    }

    .controls {
      margin-bottom: 20px;
      padding: 16px;
      background-color: #f5f5f5;
      border-radius: 4px;
    }

    /* è“åº•ç™½å­—çš„æ¤­åœ†æŒ‰é’® */
    .controls button {
      margin-right: 10px;
      padding: 8px 16px;
      background-color: #1890ff;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }

    .controls button:hover {
      background-color: #40a9ff;
    }



  </style>
</head>
<body>
  <h1>é˜¶æ®µ1: LayoutManager é›†æˆæµ‹è¯•</h1> 

  <div class="controls">
    <button onclick="window.table?.toggleSidePanel()">åˆ‡æ¢å³ä¾§é¢æ¿</button>
    <button onclick="window.table?.showPanel('demo1')">æ˜¾ç¤ºé¢æ¿1</button>
    <button onclick="window.table?.showPanel('demo2')">æ˜¾ç¤ºé¢æ¿2</button>
    <button onclick="console.log(window.table?.getActivePanel())">æŸ¥çœ‹å½“å‰é¢æ¿</button>
  </div>
  <div id="app"></div>

  <script type="module">
    import { VirtualTable } from '/src/table/VirtualTable.ts'
    import { DemoPanel } from '/src/table/panel/panels/DemoPanel.ts'

    // åˆ›å»ºè¡¨æ ¼å®ä¾‹
    const table = new VirtualTable({
      container: '#app',
      tableId: 'test-layout',
      columns: [
        { key: 'id', title: 'ID', width: 80 },
        { key: 'name', title: 'å§“å', width: 120 },
        { key: 'age', title: 'å¹´é¾„', width: 80 },
        { key: 'city', title: 'åŸå¸‚', width: 120 },
      ],
      rowHeight: 40,
      headerHeight: 50,
      frozenColumns: 1,
      // å¯ç”¨å³ä¾§é¢æ¿
      sidePanel: {
        enabled: true,
        position: 'right',
        defaultOpen: true,
        defaultPanel: 'demo1',
        panels: [
          { id: 'demo1', title: 'é¢æ¿1', icon: 'ğŸ“Š', component: DemoPanel },
          { id: 'demo2', title: 'é¢æ¿2', icon: 'ğŸ“Š', component: DemoPanel }
        ]
      },

      // æµ‹è¯•æ•°æ®
      initialData: [
        { id: 1, name: 'å¼ ä¸‰', age: 25, city: 'åŒ—äº¬' },
        { id: 2, name: 'æå››', age: 30, city: 'ä¸Šæµ·' },
        { id: 3, name: 'ç‹äº”', age: 28, city: 'å¹¿å·' },
        { id: 4, name: 'èµµå…­', age: 32, city: 'æ·±åœ³' },
        { id: 5, name: 'é’±ä¸ƒ', age: 27, city: 'æ­å·' }
      ]
    })

    // ä¸èƒ½æ‰‹åŠ¨ mount, åªèƒ½ç­‰å¾… ready
    await table.ready 

    // æš´éœ²åˆ°å…¨å±€
    window.table = table
    console.log('é˜¶æ®µ1, æµ‹è¯•åˆå§‹åŒ–æˆåŠŸ')
    console.log('æç¤º: ç‚¹å‡»ä¸Šæ–¹æŒ‰é’®æµ‹è¯•åŠŸèƒ½')

  </script>
</body>
</html>